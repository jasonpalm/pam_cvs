This is a PAM module to authenticate Linux CVS against an Active Directory Server (ADS) using the ADS's
LDAP service.

To install this module:

1. Install CVS from source with PAM support. E.g.

	# a) (Make sure pam-devel and openldap-devel are installed on your system).
	
	# b) Get and install the latest 1.12.x release of cvs with PAM support. E.g.
	
	wget http://ftp.gnu.org/non-gnu/cvs/source/feature/1.12.13/cvs-1.12.13.tar.gz
	tar -xzf cvs-1.12.13.tar.gz
	cd cvs-1.12.13

	./configure --enable-pam
	make 
	sudo make install
	
2. Configure pam for CVS. Edit /etc/pam.d/cvs :

		#%PAM-1.0

		auth            sufficient      pam_cvs.so cvs_user ldap_host ldap_port ads_domain
		account         sufficient      pam_cvs.so
		session         sufficient      pam_cvs.so
	
	# NOTE the arguments to pam_cvs.so in the auth section: 
	# a) the account CVS runs as, 
	# b) the LDAP host to authenticate against, and 
	# c) the LDAP port 
	# d) the Active Directory Server Domain. Will be automatically prepended to the supplied username
	     with a '\' separator.
	
3. Build and install the pam_cvs.so PAM module:

		make
		sudo make install
	
   If you want extra logging, define DEBUG when building:
	
		make CFLAGS=-DDEBUG
		sudo make install
	
4. Edit your repositories' CVSROOT/config files to include

	SystemAuth=yes
	
5. Ensure that the user that CVS runs as owns all repository files.
	

When authenticating, supply the username *without* the ADS domain. E.g.

	user.name
	

The module logs to syslog using AUTHPRIV. Check /var/log/secure (or the appropriate log for your system)
for logging output.

